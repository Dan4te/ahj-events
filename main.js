(()=>{"use strict";class t{constructor(t){this.elem=t,this.infoMsg=t.querySelector(".info .msg"),this.infoMiss=t.querySelector(".info .miss")}init(){this.msg=0,this.miss=0,this.elem.addEventListener("click",(t=>{const i=t.target.closest(".grid-cell");if(i){const t=i.querySelector(".icon");t&&(this.hit(),t.remove())}}))}hit(){this.msg+=1,this.infoMsg.textContent=this.msg}missed(){this.miss+=1,this.infoMiss.textContent=this.miss}}new class{constructor(i){this.cell=i.querySelectorAll(".grid-cell"),this.icon=i.querySelector(".icon"),this.game=new t(i)}init(){this.icon.remove(),this.game.init(),this.getRandomPosition()}getRandomPosition(){let t=0,i=0;const e=setInterval((()=>{for(;i===t;)i=Math.floor(Math.random()*(this.cell.length-1));this.cell[t].querySelector(".icon")&&(this.game.missed(),5===this.game.miss&&(clearInterval(e),alert("Вы проиграли!"))),t=i,this.cell[i].appendChild(this.icon)}),1e3)}}(document.querySelector(".grid-container")).init()})();